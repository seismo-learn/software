简介
====

:本节贡献者: |田冬冬|\（作者）、
             |姚家园|\（审稿）
:最近更新日期: 2020-12-30

----

SOD，全称是 Standing Order for Data，可以自动筛选并下载地震目录、台站元数据和波形数据，
并对波形数据做预处理。其具有高度可定制化的特点，可以满足日常科研中
地震学数据下载的大部分需求。

特色功能
--------

申请地震波形数据的一般流程为：

1. 获取完整的地震目录，根据需求筛选出自己需要的地震事件
2. 获取台站列表，根据需求对台站通道码、位置、震中距、方位角等进行筛选
3. 根据发震时刻、震相走时、震中距等信息确定要申请的波形数据的起始、结束时间
4. 申请数据
5. 下载数据
6. 数据解压以及预处理

SOD 的特色在于：

1. 只需要一个配置文件（SOD 中称为 recipe）即可完成上面提到的全部步骤
2. 灵活的地震筛选规则：

   - 可以在 USGS、IRIS 等数据中心提供的地震目录的基础上，根据发震时刻、震源区域、深度、
     震级等条件进行筛选
   - 可以由用户自行提供地震目录（需要满足 SOD 对地震目录的格式要求）
   - 可以构建虚拟地震以申请连续波形数据
   - ...

3. 灵活的台站筛选规则：

   - 可以选择一个或多个指定的台网、台站或通道
   - 可以筛选某个区域内的台站
   - 可以筛选在某个特定点的特定距离、方位角、反方位角内的台站
   - 可以下载指定通道的仪器响应文件
   - ...

4. 灵活的波形筛选规则：

   - 仅下载震中距、方位角、反方位角满足条件的数据
   - 仅当某个震相存在时才下载该台站的数据（如仅当震中距大于 115 时才有 PKIKP 震相）
   - 仅当地震与台站的连线中点位于某个区域是才下载数据（比如想要用 PcP 研究某个特定区域的核幔边界结构）
   - 仅当指定震相的前后多少秒内没有其他震相干扰时才下载数据
   - 灵活的时窗截取规则，可以根据发震时刻、自动计算的震相理论到时等来设置数据时窗
   - 可直接生成 BREQ_FAST 文件以通过邮件方式申请数据
   - 可以将波形数据以多种格式保存到磁盘中，如 miniSEED、SAC、ASCII、WAV 等格式
   - ...

5. 数据并行下载，速度快无延迟
6. 将数据写入磁盘前/后，可对数据进行常见的数据预处理

引用
----

- Owens, T. J., Crotwell, H. P., Groves, C., & Oliver-Paul, P. (2004).
  SOD: STANDING ORDER FOR DATA.
  *Seismological Research Letters*, 75(4), 515–520.
  https://doi.org/10.1785/gssrl.75.4.515-a
